# ะขะตะพัะธั

## ะขะตัะผะธะฝั

  - ัะตะบัะพั - ะผะธะฝะธะผะฐะปัะฝะฐั ะฐะดัะตััะตะผะฐั ะตะดะธะฝะธัะฐ ััะฐะฝะตะฝะธั ะธะฝัะพัะผะฐัะธะธ ะฝะฐ
    ะดะธัะบะพะฒัั ะทะฐะฟะพะผะธะฝะฐััะธั ััััะพะนััะฒะฐั
    [1](http://ru.wikipedia.org/wiki/ะกะตะบัะพั_ะดะธัะบะฐ)
  - ะฑะปะพะบ - ัะฐะทะผะตั ะดะฐะฝะฝัั, ัััะฐะฝะพะฒะปะตะฝะฝัะน ะดะปั ะพะฑะผะตะฝะฐ ั ะฑะปะพัะฝัะผ ััััะพะนััะฒะพะผ

ะะฐะถะฝะพ, ััะพ ัะฐะทะผะตั ัะตะบัะพัะฐ ะพะฟัะตะดะตะปัะตััั ะพะฑะพััะดะพะฒะฐะฝะธะตะผ (ะฝะฐะฟัะธะผะตั, ะดะธัะบ
ัะพะพะฑัะฐะตั ะะก, ััะพ ัะฐะทะผะตั ัะตะบัะพัะฐ = 512 ะฑะฐะนั), ะฐ ัะฐะทะผะตั ะฑะปะพะบะฐ -
ะพะฟะตัะฐัะธะพะฝะฝะพะน ัะธััะตะผะพะน ( ะฝะฐะฟัะธะผะตั, ัะฐะทะผะตั ะฑะปะพะบะฐ ัััะฐะฝะพะฒะธะผ ะฒ 8
ัะตะบัะพัะพะฒ )

  - ัะฐะทะดะตะป - ะบะฐะบ disk volume, ัะฐะบ ะธ logical volume ะธ ะปัะฑะพะน ะบะพะฝัะตะนะฝะตั ะดะปั
    ััะฐะฝะตะฝะธั ะดะฐะฝะฝัั( ะทะฐัะธััะพะฒะฐะฝะฝัะน ะดะธัะบ, ะฝะฐะฟัะธะผะตั). ะะพะถะตั ะฑััั,
    ะบัะพ-ะฝะธะฑัะดั ััะพัะผัะปะธััะตั ัะพัะฝะตะต.

## ะกััั ะฟัะพะฑะปะตะผั

ะะตะท ะฒััะฐะฒะฝะธะฒะฐะฝะธั ัะฐะทะดะตะปะพะฒ ัะบะพัะพััั ัะฐะฑะพัั ั ะดะธัะบะพะผ ะฝะธะถะต (ะธะฝะพะณะดะฐ -
ะฝะฐะผะฝะพะณะพ ะฝะธะถะต) ะพะถะธะดะฐะตะผะพะน.

**ะะฐะฟัะธะผะตั**:

ะะต ะธัะฟะพะปัะทัะตััั ะฝะธ LVM, ะฝะธ ะฐะฟะฟะฐัะฐัะฝัะน ัะตะนะด, ะฝะธ ะบะฐะบะพะน-ะปะธะฑะพ ะตัั ัะฟะพัะพะฑ
ะฒะธัััะฐะปะธะทะฐัะธะธ ะดะธัะบะพะฒะพะน ะฟะพะดัะธััะตะผั, ัะฐะทะผะตั ะฑะปะพะบะฐ ext3 = 4k, WD20EARS
(ะฒ ะฝะตะผ ะธัะฟะพะปัะทัะตััั advanced format ะฒ ัะตัะผะธะฝะพะปะพะณะธะธ WesternDigital)

ะัะปะธ ัะฐะทะดะตะป ะฝะฐัะธะฝะฐะตััั ั ัะตะบัะพัะฐ 63, ัะบะพัะพััั ะทะฐะฟะธัะธ ะฟะฐะดะฐะตั ะฝะฐ 30 % ะฟะพ
ััะฐะฒะฝะตะฝะธั ั ัะฐะทะดะตะปะพะผ, ะฝะฐัะธะฝะฐััะธะผัั ั ัะตะบัะพัะฐ 2048

## ะััะพัะธั ะฟัะพะฑะปะตะผั

ะััะฐะฒะฝะธะฒะฐัั ัะฐะทะดะตะปั ะฝะฐัะฐะปะธ ะทะฐะดะพะปะณะพ ะดะพ ัะพะณะพ, ะบะฐะบ ััะฐ ะฟัะพะฑะปะตะผะฐ ะบะพัะฝัะปะฐัั
ะดะพะผะฐัะฝะตะณะพ ะฟะพะปัะทะพะฒะฐัะตะปั - ะฐะฟะฟะฐัะฐัะฝัะต ัะตะนะดั, ะฒะธัััะฐะปะธะทะฐัะธั, san ะดะธัะบะธ
ััะตะฑะพะฒะฐะปะธ ะณัะฐะผะพัะฝะพะน ะฝะฐัััะพะนะบะธ. ะะพ ะฟะพัะปะต ัะพะณะพ, ะบะฐะบ ัะฐะทะผะตั ะพะฑััะฝะพะณะพ
ะดะพะผะฐัะฝะตะณะพ ะถัััะบะพะณะพ ะดะธัะบะฐ ะดะพััะป ะดะพ 2 ะขะฑ, ะฒััะฐะฒะฝะธะฒะฐะฝะธะต ะฑะปะพะบะพะฒ ะดะฐะฝะฝัั
ะฟะพะฟะฐะปะพ ะฒ ะพะฑะปะฐััั ะฒะฝะธะผะฐะฝะธั ัะพะผััะบะพะฒ.

ะะพ ัะพะผะฝะธัะตะปัะฝัะผ historical reason (ัะพะพะฑัะฐะถะตะฝะธัะผ ัะพะฒะผะตััะธะผะพััะธ ัะพ ะฒััะบะธะผ
ัะปะฐะผะพะผ ะฒัะพะดะต windows 98), ัะฐะทะดะตะปั ะดะธัะบะฐ ะดะพ ัะธั ะฟะพั ะฒััะฐะฒะฝะธะฒะฐัััั ะฟะพ ัะฐะบ
ะฝะฐะทัะฒะฐะตะผะพะน ะณัะฐะฝะธัะต ัะธะปะธะฝะดัะฐ ( ัะผ. [ะณะตะพะผะตััะธั ะถัััะบะพะณะพ
ะดะธัะบะฐ](http://ru.wikipedia.org/wiki/ะัััะบะธะน_ะดะธัะบ#.D0.93.D0.B5.D0.BE.D0.BC.D0.B5.D1.82.D1.80.D0.B8.D1.8F_.D0.BC.D0.B0.D0.B3.D0.BD.D0.B8.D1.82.D0.BD.D0.BE.D0.B3.D0.BE_.D0.B4.D0.B8.D1.81.D0.BA.D0.B0)
) , ะธ ัะธัะปะพ ัะตะบัะพัะพะฒ ะฒ ัะฐะทะดะตะปะต ะดะพะปะถะฝะพ ะฑััั ะบัะฐัะฝะพ 63. ะฅะพัั ััะพ ะดะฐะฒะฝะพ ะฝะต
ัะพะพัะฒะตัััะฒัะตั ัะตะฐะปัะฝะพะน ะณะตะพะผะตััะธะธ ะดะธัะบะฐ, ะบะพัะพัะฐั ะฟัััะตััั ะพั ะฝะฐั
ัะปะตะบััะพะฝะธะบะพะน ะถัััะบะพะณะพ ะดะธัะบะฐ.

ะะธัะบะธ ะฑะพะปััะพะน ัะผะบะพััะธ ะธะผะตัั ัะฐะทะผะตั ัะตะบัะพัะฐ 4096 ะฑะฐะนั ะฒะผะตััะพ ะพะฑััะฝัั 512,
ะฝะพ ะฒ ัะตะปัั ัะพะฒะผะตััะธะผะพััะธ ัะพ ััะฐััะผะธ ะะก ะฟัะตะดััะฐะฒะปััััั ะบะฐะบ ะดะธัะบะธ ั
ัะฐะทะผะตัะพะผ ัะตะบัะพัะฐ 512 ะฑะฐะนั. ะ ะตัะปะธ ัะฐะทะผะตั ะฑะปะพะบะฐ ัะฐะนะปะพะฒะพะน ัะธััะตะผั
ะฑะพะปััะต ะปะพะณะธัะตัะบะพะณะพ 512-ะฑะฐะนัะฝะพะณะพ ัะตะบัะพัะฐ, ะฟัะธ ะทะฐะฟะธัะธ ะผั ะฟะพะปััะฐะตะผ
ะฟัะพะฑะปะตะผั: ะพะดะธะฝ ะฑะปะพะบ ะคะก ัะฐัะฟะพะปะพะถะตะฝ ะฝะฐ ะดะฒัั ัะธะทะธัะตัะบะธั ัะตะบัะพัะฐั
ะดะธัะบะฐ. ะงะฐััะธัะฝะพ ััะพ ะบะพะผะฟะตะฝัะธััะตััั ัะปะตะบััะพะฝะธะบะพะน ะธ ะฑััะตัะพะผ ะถัััะบะพะณะพ
ะดะธัะบะฐ, ะฝะพ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั ะฒัั ัะฐะฒะฝะพ ะฟะฐะดะฐะตั.

ะญัะพ ะพ "ะดะพะผะฐัะฝะตะน" ะฟัะพะฑะปะตะผะต. ะ ัะพ ะถะต ัะฐะผะพะต ัะฟัะฐะฒะตะดะปะธะฒะพ ะดะปั ะฒััะฐะฒะฝะธะฒะฐะฝะธั
ะฑะปะพะบะพะฒ ะธ ัััะฐะนะฟะพะฒ RAID-ะผะฐััะธะฒะฐ, ะฑะปะพะบะพะฒ ะดะธัะบะฐ host ัะธััะตะผั, ะธ ั.ะด.

ะ ะฒ ัะปััะฐะต ะธัะฟะพะปัะทะพะฒะฐะฝะธั SSD ะดะธัะบะพะฒ ะพััััััะฒะธะต ะฒััะฐะฒะฝะธะฒะฐะฝะธั ะตัั ะธ
ะฑััััะตะต ัะฐััะพะดัะตั ะปะธะผะธั ะฝะฐ ะทะฐะฟะธัั ะฑะปะพะบะฐ SSD.

ะ ัะตะทัะปััะฐัะต, ัะฐะทะดะตะปั ะฑะพะปััะต ะฝะตะปัะทั ะฒััะฐะฒะฝะธะฒะฐัั ะฟะพ ะณัะฐะฝะธัะต ัะธะปะธะฝะดัะพะฒ.
ะขะพะณะดะฐ ะฟะพ ะบะฐะบะพะน ะณัะฐะฝะธัะต?

1.  ะณัะฐะฝะธัะฐ ัะฐะทะดะตะปะพะฒ ะดะพะปะถะฝะฐ ะฑััั ะบัะฐัะฝะพะน 4 ะะธะ, ะธะท-ะทะฐ ะดะธัะบะพะฒ ั ัะฐะทะผะตัะพะผ
    ัะตะบัะพัะฐ 4096
2.  ะะฐะทะผะตั GPT - 33 ัะตะบัะพัะฐ, ะฟะพััะพะผั ะตัะปะธ ะผั ะฝะต ัะพัะธะผ ะบะฐะถะดัะน ัะฐะท
    ะฒัะฟะพะผะธะฝะฐัั, ะบะฐะบะฐั ะถะต ั ะฝะฐั ัะฐะทะผะตัะบะฐ - dos ะธะปะธ GPT - ะฝัะถะฝะพ
    ะฝะฐัะธะฝะฐัั ะฟะตัะฒัะน ัะฐะทะดะตะป ะฝะต ัะฐะฝะตะต 34 ัะตะบัะพัะฐ
3.  ะฒ SSD ะดะธัะบะฐั ะผะธะฝะธะผะฐะปัะฝะฐั ััะธัะฐะตะผะฐั ะตะดะธะฝะธัะฐ ะธะฝัะพัะผะฐัะธะธ ะทะฐะฒะธัะธั ะพั
    ะฟัะพะธะทะฒะพะดะธัะตะปั, ะฝะพ ะบะฐะบ ะฟัะฐะฒะธะปะพ 128 ะะธะ, ะฟะพััะพะผั ะตัะปะธ ะผั ะฝะต ัะพัะธะผ
    ะบะฐะถะดัะน ัะฐะท ะฒัะฟะพะผะธะฝะฐัั, ััะพ ั ะฝะฐั ะทะฐ ะดะธัะบ ... ะ ัะพะผั ะถะต, ะฟัะพะณัะฐะผะผั
    ะดะปั ัะฐะทะผะตัะบะธ ะดะธัะบะฐ ัะตะผ ะฑะพะปะตะต ะฝะต ะพะฑัะทะฐะฝั ะทะฝะฐัั ะฒัะต ะผะพะดะตะปะธ.
4.  ะถะตะปะฐัะตะปัะฝะพ, ััะพะฑั ะฟัะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธะธ ะฐะฟะฟะฐัะฐัะฝะพะณะพ RAID ั ะฝะฐั ัะพะถะต ะฝะต
    ะฒะพะทะฝะธะบะฐะปะพ ะฟัะพะฑะปะตะผ, ะฐ ัะฐะผ ัะฐะทะผะตั chunk ะฑัะฒะฐะตั ัะฐะทะฝัะน, ะฝะตัะตะดะบะพ ะธ 512
    ะะธะ.

ะัะบัะดะฐ ะฒะทัะปะฐัั ัะธััะฐ 1 ะะธะ, ั ัะฐะบ ะธ ะฝะต ะฝะฐััะป. ะััั ะผะฝะตะฝะธะต, ััะพ ััะพ ะะะฅะ
Microsoft [2](http://support.microsoft.com/kb/929491), ััะฐะฒัะตะต
ะฝะตะพัะธัะธะฐะปัะฝัะผ ััะฐะฝะดะฐััะพะผ

## ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั

# ะัะฐะบัะธะบะฐ: ะััะฐะฒะฝะธะฒะฐะตะผ ะดะฐะฝะฝัะต

## ะะฝะพ ะผะฝะต ะฝะฐะดะพ?

  - ะัะปะธ ัะบะพัะพััั ัะฐะฑะพัั ะถัััะบะพะณะพ ะดะธัะบะฐ ััััะฐะธะฒะฐะตั, ะฒัั ะฑัะพัะฐัั ะธ
    ะฟะตัะตัะฐะทะฑะธะฒะฐัั ะดะธัะบ ะฝะต ััะพะธั.
  - ะัะปะธ ะดะธัะบ ะฝะพะฒัะน ะธ ะฒั ะฟัะธัััะฟะธะปะธ ะบ ัะฐะทะผะตัะบะต, ะพะฑัะทะฐัะตะปัะฝะพ ะฒััะฐะฒะฝะธะฒะฐะนัะต
    ัะฐะทะดะตะปั ะฟะพ ะณัะฐะฝะธัะต 1 ะะธะ.
  - ะะธัะบ ะฝะพะฒัะน, ะฐ ัะบะพัะพััั ะฝะฐะผะฝะพะณะพ ะฝะธะถะต ะพะถะธะดะฐะตะผะพะน. ะขะพะณะดะฐ ะฟะตัะตัะฐะทะฑะธัั
    ััะพะธั, ะฝะพ ะฝัะถะตะฝ ะฟะพะปะฝัะน ะฑะตะบะฐะฟ ะฒัะตั ะดะฐะฝะฝัั

ะัะพะฒะตัะธัั ัะบะพัะพััั ะทะฐะฟะธัะธ (ะตัะปะธ ะดะธัะบ ะฝะต Advanced Format) ะผะพะถะฝะพ ัะฐะบ: ะตัะปะธ
ะฟะพะดะพะทัะตะฒะฐะตะผัะน ัะฐะทะดะตะป ัะผะพะฝัะธัะพะฒะฐ ะฒ /home/, ะทะฐะฟะธัะตะผ ััะดะฐ 100 ะะฑ ัะฐะนะป
(ะปัััะต ะฑะพะปััะต) ะธ ะฟะพัะผะพััะธะผ ัะบะพัะพััั

`ddยif=/dev/zeroยof=/home/test.rawยbs=128kยcount=800ย`**`oflag=direct`**

ะัะปะธ ะฒ ะฒัะฒะพะดะต

`fdiskย-luย/dev/sdaย|ยgrepย'^\/'ย|ยwhileยreadยdiskยstartยother;ยdo`
`ยยยยifย[ย!ย"$((ยย$startย%ย2048ย))"ย-eqย"0"ย];ยthen`
`ยยยยยยยยechoย"$diskยnotยaligned";`
`ยยยยfi;`
`done`

ะตััั ัััะพะบะธ ะฒะธะดะฐ

/dev/sda1 not aligned

ัะพ ัะฐะทะดะตะป ะฝะต ะฒััะพะฒะฝะตะฝ

ะะปะธ ัะตัะตะท parted:

`jb:~#ยpartedย/dev/sdaยalign-checkยoptย1`
`1ยaligned`

## ะััะฐะฒะฝะธะฒะฐะฝะธะต ัะฐะทะดะตะปะพะฒ

ะัะฐะบ, ัะฐะทะดะตะปั ะฝัะถะฝะพ ะฒััะฐะฒะฝะธะฒะฐัั ะฟะพ ะณัะฐะฝะธัะต 1 ะะธะ, ั.ะต. ะฟะพ ะณัะฐะฝะธัะต 2048
ัะตะบัะพัะพะฒ. ะข.ะต. ะฟะตัะฒัะน ัะฐะทะดะตะป ะฝะฐัะธะฝะฐะตััั ั 2048 ัะตะบัะพัะฐ

### fdisk

ะะปั ัะพะทะดะฐะฝะธั ะฒััะฐะฒะฝะตะฝะฝัั ัะฐะทะดะตะปะพะฒ ัะตัะตะท fdisk ะฝัะถะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั ะบะปััะธ
-c ะธ -u

`fdiskย-cย-uย/dev/sdc`

**ะัะปะธ ะดะธัััะธะฑััะธะฒ ััะฐััะน** ะธ fdisk ะฝะต ะฟะพะฝะธะผะฐะตั ะบะปัั -u, ะธัะฟะพะปัะทะพะฒะฐัั
ะพะดะธะฝ -c, ะฝะพ ัะธัะปะพ ัะตะบัะพัะพะฒ ัะฐัััะธััะฒะฐัั ะฒัััะฝัั, ะฝะฐะฟัะธะผะตั, ัะตัะตะท bash

ะัะธะผะตั ัััะฝะพะณะพ ัะฐััััะฐ: ะฝัะถะฝะพ ัะพะทะดะฐัั ะฟะตัะฒัะน ัะฐะทะดะตะป ัะฐะทะผะตัะพะผ 100 ะะธะ

ะะฐัะฐะปะพ ัะฐะทะดะตะปะฐ

`echoย$((ย2048ย*ย1ย))`

ะบะพะฝะตั ัะฐะทะดะตะปะฐ

`echoย$((ย2048ย*ย(ย1ย+ย100ย)ย-ย1ย))`

### parted

ะะปั ัะพะทะดะฐะฝะธั ะฒััะฐะฒะฝะตะฝะฝัั ัะฐะทะดะตะปะพะฒ ัะตัะตะท parted ะฝัะถะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั
ะฟะฐัะฐะผะตัั **-a optimal**

`partedย-aยoptimal`

## ะะตัะฐะดะฐะฝะฝัะต ะคะก, LVM ะธ ั.ะฟ.

ะัะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธะธ LVM, software raid ะธ ั.ะฟ., ะฝะฐ ัะฐะทะดะตะปะต ะ ัะพะทะดะฐัััั
ัะฐะทะดะตะป ะ ( ะผะตะฝััะตะณะพ ัะฐะทะผะตัะฐ ) ะธ ะฟะปัั ะฝะฐ ัะฐะทะดะตะปะต ะ ััะฐะฝััััั
ะผะตัะฐะดะฐะฝะฝัะต. ะญัะธ ะผะตัะฐะดะฐะฝะฝัะต ะธ ัะฟะพัะพะฑ ะพัะณะฐะฝะธะทะฐัะธะธ ะฝะพะฒะพะณะพ ัะฐะทะดะตะปะฐ
ัะฐะบ ะถะต ะฝัะถะฝะพ ััะธััะฒะฐัั ะดะปั ะฒััะฐะฒะฝะธะฒะฐะฝะธั ะดะฐะฝะฝัั.

ะัะปะธ ะผะตัะฐะดะฐะฝะฝัะต ัะฐัะฟะพะปะพะถะตะฝั ะฒ ะบะพะฝัะต ัะฐะทะดะตะปะฐ ะ, ะพะฝะธ ะฝะต ะฒะปะธััั ะฝะฐ ัะผะตัะตะฝะธะต
ัะฐะทะดะตะปะฐ ะ ะธ, ัะพะพัะฒะตัััะฒะตะฝะฝะพ, ะฝะฐ ะฒััะฐะฒะฝะธะฒะฐะฝะธะต ะดะฐะฝะฝัั ะฝะฐ ัะฐะทะดะตะปะต ะ.

### software raid

  - ะผะตัะฐะดะฐะฝะฝัะต: ะทะฐะฒะธัะธั ะพั ะฒะตััะธะธ ะผะตัะฐะดะฐะฝะฝัั (ะพะฟัะตะดะตะปัะตััั ะฟัะธ ัะพะทะดะฐะฝะธะธ
    ัะตะนะดะฐ)

<!-- end list -->

  -   - 1.0 - ะฒ ะบะพะฝัะต ะดะธัะบะฐ
      - 1.1 - ะฒ ะฝะฐัะฐะปะต ะดะธัะบะฐ
      - 1.2 - ะฒ 4 ะะธะ ะพั ะฝะฐัะฐะปะฐ ะดะธัะบะฐ.

**FIXME:** ะฝัะถะฝะพ ััะพัะฝะธัั, ะผะพะถะฝะพ ะปะธ ัะฒะฝะพ ะทะฐะดะฐัั ะณัะฐะฝะธัั ะฒััะฐะฒะฝะธะฒะฐะฝะธั
ะดะฐะฝะฝัั

ะะต ะฝะฐััะป ะฒ man mdadm. ะัะพะฒะตัะธะป ะฝะฐ ะฟัะฐะบัะธะบะต md4 - software raid, metadata
v1.2, ะพะดะธะฝ ะธะท ะดะธัะบะพะฒ ัะตะนะดะฐ - sde

ะธััะผ ััะพ-ะฝะธะฑัะดั ัะฝะธะบะฐะปัะฝะพะต ััะตะดะธ ะดะฐะฝะฝัั

`#ยhexdumpย/dev/md4ย-Cย|ยheadย-nย5`
`00000000ยย00ย00ย00ย00ย00ย00ย00ย00ยย00ย00ย00ย00ย00ย00ย00ย00ยย|................|`
`*`
**`00000200`**`ยย4cย41ย42ย45ย4cย4fย4eย45ยย01ย00ย00ย00ย00ย00ย00ย00ยย|`**`LABELONE`**`........|`

ัะตะฟะตัั ัะพ ะถะต ัะฐะผะพะต - ะฝะฐ ะพะดะฝะพะผ ะธะท ะดะธัะบะพะฒ ะผะฐััะธะฒะฐ

`#ยddยif=/dev/sdeยbs=1Mยcount=100ย|ยhexdumpย-Cย|ยgrepย`**`LABELONE`**
**`00100200`**`ยย4cย41ย42ย45ย4cย4fย4eย45ยย01ย00ย00ย00ย00ย00ย00ย00ยย|LABELONE........|`
`100+0ยะทะฐะฟะธัะตะนยััะธัะฐะฝะพ`
`100+0ยะทะฐะฟะธัะตะนยะฝะฐะฟะธัะฐะฝะพ`
`ยัะบะพะฟะธัะพะฒะฐะฝะพย104857600ยะฑะฐะนัย(105ยMB),ย1,49776ยc,ย70,0ยMB/c`

ะัะพะฒะตััะตะผ (ะดะปั ะฟัะธะผะตัะฐ - ะดะฒัะผั ัะฟะพัะพะฑะฐะผะธ :))

`#ยechoย$((0x100000))`
`1048576`
`#ยechoย$((512*2048))`
`1048576`
`#ยechoย'obase=16;512*2048'ยย|ยbc`
`100000`

, ะดะฐะฝะฝัะต ะฒ software raid c metadata v1.2 ะฝะฐัะธะฝะฐัััั ั 1 ะะธะ, ั.ะต.
ะฒััะพะฒะฝะตะฝั.

### LVM

  - ะผะตัะฐะดะฐะฝะฝัะต: ะฒ ะฝะฐัะฐะปะต ัะฐะทะดะตะปะฐ

ะััะฐะฒะฝะธะฒะฐะฝะธะต ะดะฐะฝะฝัั ะทะฐะดะฐัััั ะบะปัััะผ **--dataalignment** ะฟัะธ ัะพะทะดะฐะฝะธะธ PV:

`pvcreateย--dataalignment=`**`1M`**`ย/dev/sdc1`

ะัะพะฒะตััะตะผ ัะตัะตะท pvs:

`ย#ยpvsย-o+pe_startย/dev/sdc1`
`ยPVยยยยยยยยยVGยยยFmtยยAttrยPSizeยยยPFreeยยย1stยPE`
`ย/dev/sdc1ยยยยยยยlvm2ยa-ยยย100,00mย100,00mยยย`**`1,00m`**

### LUKS

  - ะะตัะฐะดะฐะฝะฝัะต: ะฒ ะฝะฐัะฐะปะต ัะฐะทะดะตะปะฐ

ะัะธ ัะพะทะดะฐะฝะธะธ LUKS, ะฒััะฐะฒะฝะธะฒะฐะฝะธะต ะดะฐะฝะฝัั ะพัะฝะพัะธัะตะปัะฝะพ ะฝะฐัะฐะปะฐ ัะฐะทะดะตะปะฐ
ะทะฐะดะฐัััั ะฒ ัะฒะฝะพะผ ะฒะธะดะต, ัะตัะตะท ะฟะฐัะฐะผะตัั

  - **--align-payload** <ะบะพะปะธัะตััะฒะพ ัะตะบัะพัะพะฒ>

ะข.ะต. ะฟัะธ ัะพะทะดะฐะฝะธะธ ัะฐะทะดะตะปะฐ

`cryptsetupย--align-payloadย`**`2048`**`ยluksFormatย/dev/mapper/vgdata-lvcrypt`

ะดะฐะฝะฝัะต ะฑัะดัั ะฒััะฐะฒะฝะธะฒะฐัััั ะฟะพ ะณัะฐะฝะธัะต 1 ะะธะ ะพัะฝะพัะธัะตะปัะฝะพ ะฝะฐัะฐะปะฐ
/dev/mapper/vgdata-lvcrypt ะัะพะฒะตัััั ัะตัะตะท

`cryptsetupยluksDumpย/dev/mapper/vgdata-lvcryptย|ยgrepยPayload`

# see also

  - <http://www.redhat.com/f/pdf/summit/msnitzer_1120_optimize_storage.pdf>
  - man blockdev
  - man mkfs.ext3 ( ะฒะปะธัะฝะธะต stripe ะธ stride ะฝะฐ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั ext )
  - <https://ata.wiki.kernel.org/index.php/ATA_4_KiB_sector_issues>

[Category:ะคะฐะนะปะพะฒัะต ัะธััะตะผั](Category:ะคะฐะนะปะพะฒัะต_ัะธััะตะผั "wikilink")
[Category:ะะพะปะตะทะฝัะต ัะพะฒะตัั](Category:ะะพะปะตะทะฝัะต_ัะพะฒะตัั "wikilink")